---
description: Architecture & system design
argument-hint: <system-or-feature>
---

Design the architecture for: $ARGUMENTS

Think like a principal engineer. Analyze the codebase first, then produce:

1. **Overview** — what this system does, in 2-3 sentences
2. **Architecture diagram** — mermaid diagram showing components and their interactions
3. **Components** — each component's responsibility, inputs, outputs, and key design choices
4. **Data model** — entities, relationships, and storage strategy (schema or diagram)
5. **Trade-offs** — what alternatives you considered and why you chose this approach
6. **Failure modes** — what can go wrong, how the system handles it, what's not covered

Be opinionated. Pick one approach and justify it rather than listing options without a recommendation.
